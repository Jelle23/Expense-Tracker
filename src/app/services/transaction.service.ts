import { Injectable } from "@angular/core";
import { BehaviorSubject } from "rxjs";

export interface Transaction {
  id: string;
  text: string;
  type: "income" | "expense";
  category: string;
  goal?: string;
  amount: number;
  date: Date;
}

@Injectable({
  providedIn: "root",
})
export class TransactionService {
  private localStorageKey = "transactions";

  private transactionsSubject = new BehaviorSubject<Transaction[]>(this.loadFromLocalStorage());

  // Expose as Observable for subscription
  transactions$ = this.transactionsSubject.asObservable();

  constructor() {
    // Save to localStorage whenever transactions change
    this.transactions$.subscribe(transactions => {
      this.saveToLocalStorage(transactions);
    });
  }

  private loadFromLocalStorage(): Transaction[] {
    const data = localStorage.getItem(this.localStorageKey);
    if (data) {
      const parsed = JSON.parse(data) as (Omit<Transaction, 'date'> & { date: string })[];
      // Convert date strings back to Date objects
      return parsed.map(t => ({ ...t, date: new Date(t.date) }));
    }
    // Fallback default data if nothing in localStorage
    return [
      { id: "1", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-01-01") },
      { id: "2", text: "Groceries", type: "expense", category: "Food", amount: 120.75, date: new Date("2024-01-03") },
      { id: "3", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-01-05") },
      { id: "4", text: "Coffee Shop", type: "expense", category: "Food", amount: 9.50, date: new Date("2024-01-06") },
      { id: "5", text: "Freelance Project", type: "income", category: "Work", amount: 320.50, date: new Date("2024-01-07") },
      { id: "6", text: "Electric Bill", type: "expense", category: "Utilities", amount: 95.60, date: new Date("2024-01-08") },
      { id: "7", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-01-09") },
      { id: "8", text: "Movie Night", type: "expense", category: "Entertainment", amount: 28.00, date: new Date("2024-01-13") },
      { id: "9", text: "Freelance Logo Design", type: "income", category: "Work", amount: 210.00, date: new Date("2024-01-15") },
      { id: "10", text: "Dining Out", type: "expense", category: "Food", amount: 45.30, date: new Date("2024-01-18") },
      { id: "11", text: "Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-01-20") },
      { id: "12", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-01-21") },
      { id: "13", text: "Book Sale (eBay)", type: "income", category: "Other", amount: 25.00, date: new Date("2024-01-24") },
      { id: "14", text: "Gas", type: "expense", category: "Transport", amount: 50.00, date: new Date("2024-01-25") },
      { id: "15", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-01-27") },
      { id: "16", text: "Grocery Run", type: "expense", category: "Food", amount: 130.10, date: new Date("2024-01-30") },
      { id: "17", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-02-01") },
      { id: "18", text: "Groceries", type: "expense", category: "Food", amount: 128.45, date: new Date("2024-02-03") },
      { id: "19", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-02-05") },
      { id: "20", text: "Freelance Blog Writing", type: "income", category: "Work", amount: 290.00, date: new Date("2024-02-06") },
      { id: "21", text: "Electric Bill", type: "expense", category: "Utilities", amount: 99.25, date: new Date("2024-02-08") },
      { id: "22", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-02-09") },
      { id: "23", text: "Valentine's Dinner", type: "expense", category: "Food", amount: 85.00, date: new Date("2024-02-14") },
      { id: "24", text: "Freelance Website Fix", type: "income", category: "Work", amount: 410.00, date: new Date("2024-02-15") },
      { id: "25", text: "Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-02-20") },
      { id: "26", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-02-21") },
      { id: "27", text: "Gas", type: "expense", category: "Transport", amount: 52.00, date: new Date("2024-02-23") },
      { id: "28", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-02-27") },
      { id: "29", text: "Groceries", type: "expense", category: "Food", amount: 142.30, date: new Date("2024-02-29") },
      { id: "30", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-03-01") },
      { id: "31", text: "Groceries", type: "expense", category: "Food", amount: 135.90, date: new Date("2024-03-03") },
      { id: "32", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-03-05") },
      { id: "33", text: "Freelance SEO Audit", type: "income", category: "Work", amount: 370.00, date: new Date("2024-03-06") },
      { id: "34", text: "Electric Bill", type: "expense", category: "Utilities", amount: 93.50, date: new Date("2024-03-08") },
      { id: "35", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-03-09") },
      { id: "36", text: "New Headphones", type: "expense", category: "Shopping", amount: 120.00, date: new Date("2024-03-12") },
      { id: "37", text: "Freelance App Bug Fix", type: "income", category: "Work", amount: 275.00, date: new Date("2024-03-16") },
      { id: "38", text: "Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-03-20") },
      { id: "39", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-03-21") },
      { id: "40", text: "Gas", type: "expense", category: "Transport", amount: 53.20, date: new Date("2024-03-25") },
      { id: "41", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-03-27") },
      { id: "42", text: "Grocery Refill", type: "expense", category: "Food", amount: 126.40, date: new Date("2024-03-29") },
      { id: "43", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-04-01") },
      { id: "44", text: "Groceries", type: "expense", category: "Food", amount: 140.00, date: new Date("2024-04-03") },
      { id: "45", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-04-05") },
      { id: "46", text: "Freelance Website Update", type: "income", category: "Work", amount: 350.00, date: new Date("2024-04-07") },
      { id: "47", text: "Electric Bill", type: "expense", category: "Utilities", amount: 95.00, date: new Date("2024-04-08") },
      { id: "48", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-04-09") },
      { id: "49", text: "New Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-04-10") },
      { id: "50", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-04-12") },
      { id: "51", text: "Gas", type: "expense", category: "Transport", amount: 54.00, date: new Date("2024-04-14") },
      { id: "52", text: "Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 800.00, date: new Date("2024-04-15") },
      { id: "53", text: "Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1200.00, date: new Date("2024-04-16") },
      { id: "54", text: "Start a Business", type: "expense", category: "Goals", goal: "Start a Business", amount: 600.00, date: new Date("2024-04-18") },
      { id: "55", text: "Dining Out", type: "expense", category: "Food", amount: 50.00, date: new Date("2024-04-20") },
      { id: "56", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-04-22") },
      { id: "57", text: "Freelance App Debugging", type: "income", category: "Work", amount: 420.00, date: new Date("2024-04-23") },
      { id: "58", text: "Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 400.00, date: new Date("2024-04-25") },
      { id: "59", text: "Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 350.00, date: new Date("2024-04-26") },
      { id: "60", text: "Groceries", type: "expense", category: "Food", amount: 130.00, date: new Date("2024-04-29") },
      { id: "61", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-05-01") },
      { id: "62", text: "Groceries", type: "expense", category: "Food", amount: 145.00, date: new Date("2024-05-03") },
      { id: "63", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-05-05") },
      { id: "64", text: "Freelance UX Design", type: "income", category: "Work", amount: 400.00, date: new Date("2024-05-07") },
      { id: "65", text: "Electric Bill", type: "expense", category: "Utilities", amount: 92.00, date: new Date("2024-05-08") },
      { id: "66", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-05-09") },
      { id: "67", text: "Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-05-10") },
      { id: "68", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-05-12") },
      { id: "69", text: "Gas", type: "expense", category: "Transport", amount: 55.00, date: new Date("2024-05-14") },
      { id: "70", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 850.00, date: new Date("2024-05-15") },
      { id: "71", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1250.00, date: new Date("2024-05-16") },
      { id: "72", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 650.00, date: new Date("2024-05-18") },
      { id: "73", text: "Dining Out", type: "expense", category: "Food", amount: 60.00, date: new Date("2024-05-20") },
      { id: "74", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-05-22") },
      { id: "75", text: "Freelance App Update", type: "income", category: "Work", amount: 430.00, date: new Date("2024-05-23") },
      { id: "76", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 420.00, date: new Date("2024-05-25") },
      { id: "77", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 370.00, date: new Date("2024-05-26") },
      { id: "78", text: "Groceries", type: "expense", category: "Food", amount: 135.00, date: new Date("2024-05-29") },
      { id: "79", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-06-01") },
      { id: "80", text: "Groceries", type: "expense", category: "Food", amount: 138.00, date: new Date("2024-06-03") },
      { id: "81", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-06-05") },
      { id: "82", text: "Freelance SEO Content", type: "income", category: "Work", amount: 380.00, date: new Date("2024-06-07") },
      { id: "83", text: "Electric Bill", type: "expense", category: "Utilities", amount: 90.00, date: new Date("2024-06-08") },
      { id: "84", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-06-09") },
      { id: "85", text: "Gym Membership", type: "expense", category: "Health", amount: 55.00, date: new Date("2024-06-10") },
      { id: "86", text: "Spotify Subscription", type: "expense", category: "Entertainment", amount: 9.99, date: new Date("2024-06-12") },
      { id: "87", text: "Gas", type: "expense", category: "Transport", amount: 54.00, date: new Date("2024-06-14") },
      { id: "88", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 900.00, date: new Date("2024-06-15") },
      { id: "89", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1300.00, date: new Date("2024-06-16") },
      { id: "90", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 700.00, date: new Date("2024-06-18") },
      { id: "91", text: "Dining Out", type: "expense", category: "Food", amount: 55.00, date: new Date("2024-06-20") },
      { id: "92", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-06-22") },
      { id: "93", text: "Freelance App Fix", type: "income", category: "Work", amount: 450.00, date: new Date("2024-06-23") },
      { id: "94", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 450.00, date: new Date("2024-06-25") },
      { id: "95", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 390.00, date: new Date("2024-06-26") },
      { id: "96", text: "Groceries", type: "expense", category: "Food", amount: 140.00, date: new Date("2024-06-29") },
      { id: "97", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-07-01") },
      { id: "98", text: "Dividends from Investments", type: "income", category: "Passive Income", amount: 200.00, date: new Date("2024-07-03") },
      { id: "99", text: "Freelance Mobile App Project", type: "income", category: "Work", amount: 600.00, date: new Date("2024-07-05") },
      { id: "100", text: "Online Course Sales", type: "income", category: "Passive Income", amount: 350.00, date: new Date("2024-07-07") },
      { id: "101", text: "Groceries", type: "expense", category: "Food", amount: 145.00, date: new Date("2024-07-08") },
      { id: "102", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-07-10") },
      { id: "103", text: "Electric Bill", type: "expense", category: "Utilities", amount: 92.00, date: new Date("2024-07-11") },
      { id: "104", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-07-12") },
      { id: "105", text: "Gas", type: "expense", category: "Transport", amount: 55.00, date: new Date("2024-07-13") },
      { id: "106", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 950.00, date: new Date("2024-07-15") },
      { id: "107", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1350.00, date: new Date("2024-07-16") },
      { id: "108", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 750.00, date: new Date("2024-07-18") },
      { id: "109", text: "Dining Out", type: "expense", category: "Food", amount: 65.00, date: new Date("2024-07-20") },
      { id: "110", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-07-22") },
      { id: "111", text: "Freelance Website Maintenance", type: "income", category: "Work", amount: 480.00, date: new Date("2024-07-23") },
      { id: "112", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 470.00, date: new Date("2024-07-25") },
      { id: "113", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 410.00, date: new Date("2024-07-26") },
      { id: "114", text: "Groceries", type: "expense", category: "Food", amount: 140.00, date: new Date("2024-07-29") },
      { id: "115", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-08-01") },
      { id: "116", text: "Dividends from Investments", type: "income", category: "Passive Income", amount: 210.00, date: new Date("2024-08-03") },
      { id: "117", text: "Freelance Graphic Design", type: "income", category: "Work", amount: 620.00, date: new Date("2024-08-05") },
      { id: "118", text: "Online Course Sales", type: "income", category: "Passive Income", amount: 370.00, date: new Date("2024-08-07") },
      { id: "119", text: "Groceries", type: "expense", category: "Food", amount: 150.00, date: new Date("2024-08-08") },
      { id: "120", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-08-10") },
      { id: "121", text: "Electric Bill", type: "expense", category: "Utilities", amount: 95.00, date: new Date("2024-08-11") },
      { id: "122", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-08-12") },
      { id: "123", text: "Gas", type: "expense", category: "Transport", amount: 56.00, date: new Date("2024-08-13") },
      { id: "124", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1000.00, date: new Date("2024-08-15") },
      { id: "125", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1400.00, date: new Date("2024-08-16") },
      { id: "126", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 800.00, date: new Date("2024-08-18") },
      { id: "127", text: "Dining Out", type: "expense", category: "Food", amount: 70.00, date: new Date("2024-08-20") },
      { id: "128", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-08-22") },
      { id: "129", text: "Freelance Website Redesign", type: "income", category: "Work", amount: 500.00, date: new Date("2024-08-23") },
      { id: "130", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 490.00, date: new Date("2024-08-25") },
      { id: "131", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 430.00, date: new Date("2024-08-26") },
      { id: "132", text: "Groceries", type: "expense", category: "Food", amount: 145.00, date: new Date("2024-08-29") },
      { id: "133", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-09-01") },
      { id: "134", text: "Dividends from Investments", type: "income", category: "Passive Income", amount: 220.00, date: new Date("2024-09-03") },
      { id: "135", text: "Freelance Content Writing", type: "income", category: "Work", amount: 640.00, date: new Date("2024-09-05") },
      { id: "136", text: "Online Course Sales", type: "income", category: "Passive Income", amount: 390.00, date: new Date("2024-09-07") },
      { id: "137", text: "Groceries", type: "expense", category: "Food", amount: 155.00, date: new Date("2024-09-08") },
      { id: "138", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-09-10") },
      { id: "139", text: "Electric Bill", type: "expense", category: "Utilities", amount: 93.00, date: new Date("2024-09-11") },
      { id: "140", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-09-12") },
      { id: "141", text: "Gas", type: "expense", category: "Transport", amount: 55.00, date: new Date("2024-09-13") },
      { id: "142", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1050.00, date: new Date("2024-09-15") },
      { id: "143", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1450.00, date: new Date("2024-09-16") },
      { id: "144", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 850.00, date: new Date("2024-09-18") },
      { id: "145", text: "Dining Out", type: "expense", category: "Food", amount: 75.00, date: new Date("2024-09-20") },
      { id: "146", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-09-22") },
      { id: "147", text: "Freelance App Consulting", type: "income", category: "Work", amount: 510.00, date: new Date("2024-09-23") },
      { id: "148", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 510.00, date: new Date("2024-09-25") },
      { id: "149", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 450.00, date: new Date("2024-09-26") },
      { id: "150", text: "Groceries", type: "expense", category: "Food", amount: 150.00, date: new Date("2024-09-29") },
      { id: "151", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-10-01") },
      { id: "152", text: "Dividends from Investments", type: "income", category: "Passive Income", amount: 230.00, date: new Date("2024-10-03") },
      { id: "153", text: "Freelance Social Media Campaign", type: "income", category: "Work", amount: 650.00, date: new Date("2024-10-05") },
      { id: "154", text: "Online Course Sales", type: "income", category: "Passive Income", amount: 410.00, date: new Date("2024-10-07") },
      { id: "155", text: "Groceries", type: "expense", category: "Food", amount: 160.00, date: new Date("2024-10-08") },
      { id: "156", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-10-10") },
      { id: "157", text: "Electric Bill", type: "expense", category: "Utilities", amount: 95.00, date: new Date("2024-10-11") },
      { id: "158", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-10-12") },
      { id: "159", text: "Gas", type: "expense", category: "Transport", amount: 57.00, date: new Date("2024-10-13") },
      { id: "160", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1100.00, date: new Date("2024-10-15") },
      { id: "161", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1500.00, date: new Date("2024-10-16") },
      { id: "162", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 900.00, date: new Date("2024-10-18") },
      { id: "163", text: "Dining Out", type: "expense", category: "Food", amount: 80.00, date: new Date("2024-10-20") },
      { id: "164", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-10-22") },
      { id: "165", text: "Freelance Website Audit", type: "income", category: "Work", amount: 520.00, date: new Date("2024-10-23") },
      { id: "166", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 530.00, date: new Date("2024-10-25") },
      { id: "167", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 470.00, date: new Date("2024-10-26") },
      { id: "168", text: "Groceries", type: "expense", category: "Food", amount: 155.00, date: new Date("2024-10-29") },
      { id: "169", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-11-01") },
      { id: "170", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 240.00, date: new Date("2024-11-03") },
      { id: "171", text: "Freelance Photography", type: "income", category: "Side Hustle", amount: 700.00, date: new Date("2024-11-05") },
      { id: "172", text: "Online Course Sales", type: "income", category: "Sales", amount: 420.00, date: new Date("2024-11-07") },
      { id: "173", text: "Rental Income", type: "income", category: "Rental Income", amount: 1200.00, date: new Date("2024-11-08") },
      { id: "174", text: "Groceries", type: "expense", category: "Food", amount: 160.00, date: new Date("2024-11-09") },
      { id: "175", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-11-10") },
      { id: "176", text: "Electric Bill", type: "expense", category: "Utilities", amount: 97.00, date: new Date("2024-11-11") },
      { id: "177", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-11-12") },
      { id: "178", text: "Gas", type: "expense", category: "Transport", amount: 58.00, date: new Date("2024-11-13") },
      { id: "179", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1150.00, date: new Date("2024-11-15") },
      { id: "180", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1550.00, date: new Date("2024-11-16") },
      { id: "181", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 950.00, date: new Date("2024-11-18") },
      { id: "182", text: "Dining Out", type: "expense", category: "Food", amount: 85.00, date: new Date("2024-11-20") },
      { id: "183", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-11-22") },
      { id: "184", text: "Freelance Consulting", type: "income", category: "Work", amount: 530.00, date: new Date("2024-11-23") },
      { id: "185", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 150.00, date: new Date("2024-11-24") },
      { id: "186", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 550.00, date: new Date("2024-11-25") },
      { id: "187", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 490.00, date: new Date("2024-11-26") },
      { id: "188", text: "Groceries", type: "expense", category: "Food", amount: 160.00, date: new Date("2024-11-29") },
      { id: "189", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5500.00, date: new Date("2024-12-01") },
      { id: "190", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 250.00, date: new Date("2024-12-03") },
      { id: "191", text: "Freelance Event Photography", type: "income", category: "Side Hustle", amount: 720.00, date: new Date("2024-12-05") },
      { id: "192", text: "Online Course Sales", type: "income", category: "Sales", amount: 430.00, date: new Date("2024-12-07") },
      { id: "193", text: "Rental Income", type: "income", category: "Rental Income", amount: 1200.00, date: new Date("2024-12-08") },
      { id: "194", text: "Groceries", type: "expense", category: "Food", amount: 170.00, date: new Date("2024-12-09") },
      { id: "195", text: "Rent", type: "expense", category: "Housing", amount: 1800.00, date: new Date("2024-12-10") },
      { id: "196", text: "Electric Bill", type: "expense", category: "Utilities", amount: 98.00, date: new Date("2024-12-11") },
      { id: "197", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2024-12-12") },
      { id: "198", text: "Gas", type: "expense", category: "Transport", amount: 59.00, date: new Date("2024-12-13") },
      { id: "199", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1200.00, date: new Date("2024-12-15") },
      { id: "200", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1600.00, date: new Date("2024-12-16") },
      { id: "201", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1000.00, date: new Date("2024-12-18") },
      { id: "202", text: "Dining Out", type: "expense", category: "Food", amount: 90.00, date: new Date("2024-12-20") },
      { id: "203", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2024-12-22") },
      { id: "204", text: "Freelance Holiday Consulting", type: "income", category: "Work", amount: 540.00, date: new Date("2024-12-23") },
      { id: "205", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 160.00, date: new Date("2024-12-24") },
      { id: "206", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 570.00, date: new Date("2024-12-25") },
      { id: "207", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 510.00, date: new Date("2024-12-26") },
      { id: "208", text: "Groceries", type: "expense", category: "Food", amount: 165.00, date: new Date("2024-12-29") },
      { id: "209", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5600.00, date: new Date("2025-01-01") },
      { id: "210", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 260.00, date: new Date("2025-01-03") },
      { id: "211", text: "Freelance Graphic Design", type: "income", category: "Side Hustle", amount: 720.00, date: new Date("2025-01-05") },
      { id: "212", text: "Online Course Sales", type: "income", category: "Sales", amount: 440.00, date: new Date("2025-01-07") },
      { id: "213", text: "Rental Income", type: "income", category: "Rental Income", amount: 1250.00, date: new Date("2025-01-08") },
      { id: "214", text: "Groceries", type: "expense", category: "Food", amount: 165.00, date: new Date("2025-01-09") },
      { id: "215", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-01-10") },
      { id: "216", text: "Electric Bill", type: "expense", category: "Utilities", amount: 100.00, date: new Date("2025-01-11") },
      { id: "217", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-01-12") },
      { id: "218", text: "Gas", type: "expense", category: "Transport", amount: 60.00, date: new Date("2025-01-13") },
      { id: "219", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1200.00, date: new Date("2025-01-15") },
      { id: "220", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1600.00, date: new Date("2025-01-16") },
      { id: "221", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1000.00, date: new Date("2025-01-18") },
      { id: "222", text: "Dining Out", type: "expense", category: "Food", amount: 90.00, date: new Date("2025-01-20") },
      { id: "223", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-01-22") },
      { id: "224", text: "Freelance Consulting", type: "income", category: "Work", amount: 550.00, date: new Date("2025-01-23") },
      { id: "225", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 160.00, date: new Date("2025-01-24") },
      { id: "226", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 580.00, date: new Date("2025-01-25") },
      { id: "227", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 520.00, date: new Date("2025-01-26") },
      { id: "228", text: "Groceries", type: "expense", category: "Food", amount: 165.00, date: new Date("2025-01-29") },
      { id: "229", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5600.00, date: new Date("2025-02-01") },
      { id: "230", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 265.00, date: new Date("2025-02-03") },
      { id: "231", text: "Freelance Graphic Design", type: "income", category: "Side Hustle", amount: 730.00, date: new Date("2025-02-05") },
      { id: "232", text: "Online Course Sales", type: "income", category: "Sales", amount: 450.00, date: new Date("2025-02-07") },
      { id: "233", text: "Rental Income", type: "income", category: "Rental Income", amount: 1250.00, date: new Date("2025-02-08") },
      { id: "234", text: "Groceries", type: "expense", category: "Food", amount: 170.00, date: new Date("2025-02-09") },
      { id: "235", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-02-10") },
      { id: "236", text: "Electric Bill", type: "expense", category: "Utilities", amount: 100.00, date: new Date("2025-02-11") },
      { id: "237", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-02-12") },
      { id: "238", text: "Gas", type: "expense", category: "Transport", amount: 60.00, date: new Date("2025-02-13") },
      { id: "239", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1250.00, date: new Date("2025-02-15") },
      { id: "240", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1650.00, date: new Date("2025-02-16") },
      { id: "241", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1050.00, date: new Date("2025-02-18") },
      { id: "242", text: "Dining Out", type: "expense", category: "Food", amount: 95.00, date: new Date("2025-02-20") },
      { id: "243", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-02-22") },
      { id: "244", text: "Freelance Consulting", type: "income", category: "Work", amount: 560.00, date: new Date("2025-02-23") },
      { id: "245", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 165.00, date: new Date("2025-02-24") },
      { id: "246", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 590.00, date: new Date("2025-02-25") },
      { id: "247", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 530.00, date: new Date("2025-02-26") },
      { id: "248", text: "Groceries", type: "expense", category: "Food", amount: 170.00, date: new Date("2025-02-28") },
      { id: "249", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5700.00, date: new Date("2025-03-01") },
      { id: "250", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 270.00, date: new Date("2025-03-03") },
      { id: "251", text: "Freelance Graphic Design", type: "income", category: "Side Hustle", amount: 740.00, date: new Date("2025-03-05") },
      { id: "252", text: "Online Course Sales", type: "income", category: "Sales", amount: 455.00, date: new Date("2025-03-07") },
      { id: "253", text: "Rental Income", type: "income", category: "Rental Income", amount: 1250.00, date: new Date("2025-03-08") },
      { id: "254", text: "Groceries", type: "expense", category: "Food", amount: 175.00, date: new Date("2025-03-09") },
      { id: "255", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-03-10") },
      { id: "256", text: "Electric Bill", type: "expense", category: "Utilities", amount: 105.00, date: new Date("2025-03-11") },
      { id: "257", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-03-12") },
      { id: "258", text: "Gas", type: "expense", category: "Transport", amount: 65.00, date: new Date("2025-03-13") },
      { id: "259", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1250.00, date: new Date("2025-03-15") },
      { id: "260", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1650.00, date: new Date("2025-03-16") },
      { id: "261", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1050.00, date: new Date("2025-03-18") },
      { id: "262", text: "Dining Out", type: "expense", category: "Food", amount: 95.00, date: new Date("2025-03-20") },
      { id: "263", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-03-22") },
      { id: "264", text: "Freelance Consulting", type: "income", category: "Work", amount: 570.00, date: new Date("2025-03-23") },
      { id: "265", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 170.00, date: new Date("2025-03-24") },
      { id: "266", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 600.00, date: new Date("2025-03-25") },
      { id: "267", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 540.00, date: new Date("2025-03-26") },
      { id: "268", text: "Groceries", type: "expense", category: "Food", amount: 170.00, date: new Date("2025-03-29") },
      { id: "269", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5700.00, date: new Date("2025-04-01") },
      { id: "270", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 275.00, date: new Date("2025-04-03") },
      { id: "271", text: "Freelance Graphic Design", type: "income", category: "Side Hustle", amount: 750.00, date: new Date("2025-04-05") },
      { id: "272", text: "Online Course Sales", type: "income", category: "Sales", amount: 460.00, date: new Date("2025-04-07") },
      { id: "273", text: "Rental Income", type: "income", category: "Rental Income", amount: 1250.00, date: new Date("2025-04-08") },
      { id: "274", text: "Groceries", type: "expense", category: "Food", amount: 175.00, date: new Date("2025-04-09") },
      { id: "275", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-04-10") },
      { id: "276", text: "Electric Bill", type: "expense", category: "Utilities", amount: 105.00, date: new Date("2025-04-11") },
      { id: "277", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-04-12") },
      { id: "278", text: "Gas", type: "expense", category: "Transport", amount: 65.00, date: new Date("2025-04-13") },
      { id: "279", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1300.00, date: new Date("2025-04-15") },
      { id: "280", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1700.00, date: new Date("2025-04-16") },
      { id: "281", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1100.00, date: new Date("2025-04-18") },
      { id: "282", text: "Dining Out", type: "expense", category: "Food", amount: 100.00, date: new Date("2025-04-20") },
      { id: "283", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-04-22") },
      { id: "284", text: "Freelance Consulting", type: "income", category: "Work", amount: 580.00, date: new Date("2025-04-23") },
      { id: "285", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 175.00, date: new Date("2025-04-24") },
      { id: "286", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 610.00, date: new Date("2025-04-25") },
      { id: "287", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 550.00, date: new Date("2025-04-26") },
      { id: "288", text: "Groceries", type: "expense", category: "Food", amount: 175.00, date: new Date("2025-04-29") },
      { id: "289", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5800.00, date: new Date("2025-05-01") },
      { id: "290", text: "Dividends from Stocks", type: "income", category: "Investments", amount: 280.00, date: new Date("2025-05-03") },
      { id: "291", text: "Freelance Graphic Design", type: "income", category: "Side Hustle", amount: 760.00, date: new Date("2025-05-05") },
      { id: "292", text: "Online Course Sales", type: "income", category: "Sales", amount: 470.00, date: new Date("2025-05-07") },
      { id: "293", text: "Rental Income", type: "income", category: "Rental Income", amount: 1250.00, date: new Date("2025-05-08") },
      { id: "294", text: "Groceries", type: "expense", category: "Food", amount: 180.00, date: new Date("2025-05-09") },
      { id: "295", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-05-10") },
      { id: "296", text: "Electric Bill", type: "expense", category: "Utilities", amount: 110.00, date: new Date("2025-05-11") },
      { id: "297", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-05-12") },
      { id: "298", text: "Gas", type: "expense", category: "Transport", amount: 70.00, date: new Date("2025-05-13") },
      { id: "299", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1350.00, date: new Date("2025-05-15") },
      { id: "300", text: "Contribute to Buy a House", type: "expense", category: "Goals", goal: "Buy a House", amount: 1750.00, date: new Date("2025-05-16") },
      { id: "301", text: "Start Business Savings", type: "expense", category: "Goals", goal: "Start a Business", amount: 1150.00, date: new Date("2025-05-18") },
      { id: "302", text: "Dining Out", type: "expense", category: "Food", amount: 105.00, date: new Date("2025-05-20") },
      { id: "303", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-05-22") },
      { id: "304", text: "Freelance Consulting", type: "income", category: "Work", amount: 590.00, date: new Date("2025-05-23") },
      { id: "305", text: "Royalty from eBook", type: "income", category: "Royalties", amount: 180.00, date: new Date("2025-05-24") },
      { id: "306", text: "Invest in Kids’ College Fund", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 620.00, date: new Date("2025-05-25") },
      { id: "307", text: "Invest in Dream Wedding", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 560.00, date: new Date("2025-05-26") },
      { id: "308", text: "Groceries", type: "expense", category: "Food", amount: 180.00, date: new Date("2025-05-29") },
      { id: "309", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5800.00, date: new Date("2025-06-01") },
      { id: "310", text: "Stock Dividends", type: "income", category: "Investments", amount: 290.00, date: new Date("2025-06-03") },
      { id: "311", text: "Freelance Copywriting", type: "income", category: "Side Hustle", amount: 640.00, date: new Date("2025-06-05") },
      { id: "312", text: "Ebook Sales", type: "income", category: "Sales", amount: 485.00, date: new Date("2025-06-07") },
      { id: "313", text: "Airbnb Rental", type: "income", category: "Rental Income", amount: 1400.00, date: new Date("2025-06-08") },
      { id: "314", text: "Groceries", type: "expense", category: "Food", amount: 190.00, date: new Date("2025-06-09") },
      { id: "315", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-06-10") },
      { id: "316", text: "Electric Bill", type: "expense", category: "Utilities", amount: 115.00, date: new Date("2025-06-11") },
      { id: "317", text: "Internet Bill", type: "expense", category: "Utilities", amount: 60.00, date: new Date("2025-06-12") },
      { id: "318", text: "Gas", type: "expense", category: "Transport", amount: 75.00, date: new Date("2025-06-13") },
      { id: "319", text: "Invest in Retirement Fund", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1400.00, date: new Date("2025-06-15") },
      { id: "320", text: "Buy a House Fund Contribution", type: "expense", category: "Goals", goal: "Buy a House", amount: 1800.00, date: new Date("2025-06-16") },
      { id: "321", text: "Start Business Fund", type: "expense", category: "Goals", goal: "Start a Business", amount: 1200.00, date: new Date("2025-06-18") },
      { id: "322", text: "Concert Tickets", type: "expense", category: "Entertainment", amount: 120.00, date: new Date("2025-06-20") },
      { id: "323", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-06-22") },
      { id: "324", text: "Freelance Web Dev", type: "income", category: "Work", amount: 680.00, date: new Date("2025-06-23") },
      { id: "325", text: "Royalty Payment", type: "income", category: "Royalties", amount: 190.00, date: new Date("2025-06-24") },
      { id: "326", text: "College Fund Contribution", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 630.00, date: new Date("2025-06-25") },
      { id: "327", text: "Dream Wedding Investment", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 570.00, date: new Date("2025-06-26") },
      { id: "328", text: "Groceries", type: "expense", category: "Food", amount: 185.00, date: new Date("2025-06-29") },
      { id: "329", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5900.00, date: new Date("2025-07-01") },
      { id: "330", text: "Crypto Gains", type: "income", category: "Investments", amount: 315.00, date: new Date("2025-07-03") },
      { id: "331", text: "Voiceover Gig", type: "income", category: "Freelance", amount: 690.00, date: new Date("2025-07-05") },
      { id: "332", text: "Digital Product Sales", type: "income", category: "Sales", amount: 500.00, date: new Date("2025-07-07") },
      { id: "333", text: "Short-Term Rental", type: "income", category: "Rental Income", amount: 1450.00, date: new Date("2025-07-08") },
      { id: "334", text: "Groceries", type: "expense", category: "Food", amount: 195.00, date: new Date("2025-07-09") },
      { id: "335", text: "Rent", type: "expense", category: "Housing", amount: 1850.00, date: new Date("2025-07-10") },
      { id: "336", text: "Electric Bill", type: "expense", category: "Utilities", amount: 120.00, date: new Date("2025-07-11") },
      { id: "337", text: "Internet Bill", type: "expense", category: "Utilities", amount: 65.00, date: new Date("2025-07-12") },
      { id: "338", text: "Fuel", type: "expense", category: "Transport", amount: 80.00, date: new Date("2025-07-13") },
      { id: "339", text: "Retirement Fund Investment", type: "expense", category: "Goals", goal: "Retirement Fund", amount: 1450.00, date: new Date("2025-07-15") },
      { id: "340", text: "House Savings", type: "expense", category: "Goals", goal: "Buy a House", amount: 1850.00, date: new Date("2025-07-16") },
      { id: "341", text: "Startup Capital", type: "expense", category: "Goals", goal: "Start a Business", amount: 1250.00, date: new Date("2025-07-18") },
      { id: "342", text: "Streaming Subscriptions", type: "expense", category: "Entertainment", amount: 40.00, date: new Date("2025-07-20") },
      { id: "343", text: "Mobile Plan", type: "expense", category: "Utilities", amount: 45.00, date: new Date("2025-07-22") },
      { id: "344", text: "Tech Consulting", type: "income", category: "Work", amount: 710.00, date: new Date("2025-07-23") },
      { id: "345", text: "Podcast Royalties", type: "income", category: "Royalties", amount: 200.00, date: new Date("2025-07-24") },
      { id: "346", text: "College Fund Boost", type: "expense", category: "Goals", goal: "Kids’ College Fund", amount: 650.00, date: new Date("2025-07-25") },
      { id: "347", text: "Dream Wedding Fund", type: "expense", category: "Goals", goal: "Dream Wedding", amount: 590.00, date: new Date("2025-07-26") },
      { id: "348", text: "Groceries", type: "expense", category: "Food", amount: 190.00, date: new Date("2025-07-29") },
      { id: "349", text: "Software Engineer Salary", type: "income", category: "Work", amount: 5900.00, date: new Date("2025-08-01") },
      { id: "350", text: "Online Store Sales", type: "income", category: "Sales", amount: 520.00, date: new Date("2025-08-03") }
    ];
  }

  private saveToLocalStorage(transactions: Transaction[]) {
    localStorage.setItem(this.localStorageKey, JSON.stringify(transactions));
  }

  // Get current value synchronously
  getTransactions(): Transaction[] {
    return this.transactionsSubject.value;
  }

  // Add new transaction and emit updated array
  addTransaction(newTransaction: Transaction) {
    const current = this.transactionsSubject.value;
    this.transactionsSubject.next([...current, newTransaction]);
  }

  // Update existing transaction by id
  updateTransaction(updatedTransaction: Transaction) {
    const current = this.transactionsSubject.value;
    const index = current.findIndex(t => t.id === updatedTransaction.id);
    if (index !== -1) {
      const updated = [...current];
      updated[index] = updatedTransaction;
      this.transactionsSubject.next(updated);
    }
  }

  // Delete transaction by id
  deleteTransaction(id: string) {
    const updated = this.transactionsSubject.value.filter(t => t.id !== id);
    this.transactionsSubject.next(updated);
  }
}